<div data-controller="<%= scroll_controller -%>"
     data-action="resize@window-><%= scroll_controller -%>#layout"
     data-scroll-offset="0.45">
<%= render partial: 'shared/thape_nav' -%>

<%= image_pack_tag 'media/images/article-banner.jpg' -%>

<div class="w-full mx-auto sm:py-4 md:py-8 px-2 md:px-6 lg:px-8 xl:px-10 xxl:px-12 xxxl:px-16 scroller-step">
  <div class="my-6">
    <main class="w-full md:w-9/12 pr-4 max-sm:px-2">
      <div class="max-w-screen-md xxl:max-w-screen-lg md:mx-auto">
        <header class="flex mb-10">
          <div class="bg-thape-dark-gray w-24 h-20 max-sm:hidden">
            <p class="px-3 text-black6c-t70 text-5xl text-justify font-semibold tracking-widest leading-none">31</p>
            <p class="px-3 text-black6c-t70 text-sm text-justify font-normal tracking-wider leading-none"><%= Date::ABBR_MONTHNAMES[@info.created_at.month] -%></p>
            <p class="py-1 px-3 text-black6c-t70 text-sm text-justify font-normal tracking-wider leading-none"><%= @info.created_at.year -%></p>
          </div>
          <div class="mx-2 flex flex-col justify-between max-sm:order-first max-sm:m-0">
            <% if @info.seo_description.present? %>
              <h1 class="px-1 text-2xl xxxl:text-3xl text-justify font-bold break-all leading-tight max-sm:px-0 max-sm:text-left max-sm:text-2xl">
                <%= @info.title -%>
              </h1>
              <h2 class="px-1 text-lg text-thape-copyright-gray xxxl:text-xl text-justify max-sm:px-0 max-sm:text-left max-sm:text-base">
                <%= @info.seo_description -%>
              </h2>
            <% else %>
              <h1 class="px-1 text-3xl xxxl:text-4xl text-justify font-bold break-all leading-tight max-sm:px-0 max-sm:text-left max-sm:text-2xl">
                <%= @info.title -%>
              </h1>
            <% end %>
            <time class="hidden max-sm:block text-sm text-thape-copyright-gray"><%= @info.created_at.to_date -%></time>
          </div>

        </header>
        <%= raw @info.content %>
      </div>
    </main>
    <aside class="w-3/12 hidden md:block md:float-right xl:text-lg xxl:text-xl xxxl:text-2xl max-sm:w-full max-sm:block max-sm:float-none">
      <div class="space-y-8 w-2/3 pb-6 border-gray-200 border-solid border-b max-sm:w-full">
        <h3>推荐阅读</h3>
        <figure class="space-y-2 max-sm:flex">
          <%= image_tag @first_work.snapshot_jpg.url, class: 'w-full max-sm:w-1/3 max-sm:flex-none max-sm:block' -%>
          <div class="max-sm:w-2/3 max-sm:pl-2 max-sm:flex max-sm:space-bewteen max-sm:flex-wrap">
            <figcaption class="text-sm pt-2 text-black6c max-sm:block max-sm:w-full max-sm:flex-none max-sm:p-0"><%= link_to @first_work.project_name, work_path(id: @first_work.id) -%></figcaption>
            <p class="text-xs text-gray1c max-sm:block max-sm:w-full max-sm:flex-none"><%= @first_work.construction_completion&.year == 0 ? '' : @first_work.construction_completion&.year %></p>
          </div>
        </figure>
        <figure class="space-y-2 max-sm:flex">
          <%= image_tag @second_work.snapshot_jpg.url, class: 'w-full max-sm:w-1/3 max-sm:flex-none max-sm:block' -%>
          <div class="max-sm:w-2/3 max-sm:pl-2 max-sm:flex max-sm:space-bewteen max-sm:flex-wrap">
            <figcaption class="text-sm pt-2 text-black6c max-sm:block max-sm:w-full max-sm:flex-none max-sm:p-0"><%= link_to @second_work.project_name, work_path(id: @second_work.id) -%></figcaption>
            <p class="text-xs text-gray1c max-sm:block max-sm:w-full max-sm:flex-none"><%= @second_work.construction_completion&.year == 0 ? '' : @second_work.construction_completion&.year %></p>
          </div>
        </figure>
      </div>
      <nav class="pt-6">
        <ol class="space-y-4">
          <li class="text-base"><a href="<%= news_path(id: @previous_info.id) -%>"><span class="circle-border border border-black text-center">&lt;</span> <%= @previous_info.title -%></a></li>
          <li class="text-base"><a href="<%= news_path(id: @next_info.id) -%>"><span class="circle-border border border-black text-center">&gt;</span> <%= @next_info.title -%></a></li>
        </ol>
      </nav>
    </aside>
  </div>
</div>

<%= render partial: 'shared/footer' %>
</div>
